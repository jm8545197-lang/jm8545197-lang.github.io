<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMEI Barra do Bugres - An√°lise de Projeto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #343A40;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='3' stitchTiles='stitch' type='fractalNoise'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.07'/%3E%3C/svg%3E");
            z-index: -2;
        }
        .background-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        .shape {
            position: absolute;
            opacity: 0.5;
            filter: blur(128px);
        }
        .shape-1 {
            width: 350px;
            height: 350px;
            background: #4ECDC4;
            border-radius: 50%;
            top: -80px;
            left: -120px;
        }
        .shape-2 {
            width: 450px;
            height: 450px;
            background: #FF6B6B;
            border-radius: 50%;
            bottom: -150px;
            right: -200px;
        }
        .shape-3 {
            width: 300px;
            height: 300px;
            background: #FFC107;
            border-radius: 30%;
            top: 25%;
            right: 10%;
        }
         .shape-4 {
            width: 250px;
            height: 250px;
            background: #56CCF2;
            border-radius: 40%;
            bottom: 35%;
            left: 5%;
        }
        .container-wrapper {
            flex-grow: 1;
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-button.active, .nav-button:hover {
            border-bottom-color: #28A745;
            color: #218838;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        .filter-btn {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: #343A40;
            transition: all 0.3s ease;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
        }
        .filter-btn:hover {
            transform: translateY(-2px) scale(1.05);
        }
        .filter-btn:not(.active):hover {
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 20px 8px rgba(255, 255, 255, 0.7);
        }
        .filter-btn.active {
            background-color: #28A745;
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .filter-btn.active:hover {
            background-color: #34d399;
             box-shadow: 0 4px 15px rgba(0,0,0,0.2), 0 0 20px 5px rgba(52, 211, 153, 0.5);
        }
        .directive-card {
            transition: all 0.3s ease-in-out;
            border-radius: 1.5rem;
        }
        .directive-card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 12px 20px rgba(40, 167, 69, 0.2);
            border-color: #28A745;
            cursor: pointer;
        }
        .glass-card {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
            border-radius: 1.5rem;
        }
        .liquid-glass {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-radius: 1.5rem;
        }
         .metric-card {
            background-color: rgba(255, 255, 255, 0.36);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
            border-radius: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 0 25px 5px var(--glow-color);
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            width: 90%;
            max-width: 800px;
            padding: 2rem;
            position: relative;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
         #metricModal .glass-card {
            background-color: #ffffff;
        }
        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2.5rem;
            font-weight: bold;
            color: #343A40;
            cursor: pointer;
            line-height: 1;
        }
        .splash-container {
            perspective: 1000px;
        }
        .splash-card {
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            animation: splashFloat 1.2s ease-in-out;
            background-color: rgba(248, 249, 250, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: -12px -12px 24px rgba(255, 255, 255, 0.8), 12px 12px 24px rgba(0, 0, 0, 0.15);
        }
        @keyframes splashFloat {
            from {
                transform: rotateX(15deg) rotateY(-10deg) translateZ(-50px);
                opacity: 0;
            }
            to {
                transform: rotateX(0) rotateY(0) translateZ(0);
                opacity: 1;
            }
        }
        .splash-shape {
            content: '';
            position: absolute;
            z-index: 1;
            filter: blur(32px);
            opacity: 0.15;
        }
        .splash-shape-1 {
            width: 200px;
            height: 200px;
            background-color: #4ECDC4;
            border-radius: 50%;
            top: -60px;
            left: -60px;
        }
        .splash-shape-2 {
            width: 180px;
            height: 180px;
            background-color: #FFC107;
            bottom: -70px;
            right: -70px;
            transform: rotate(45deg);
        }
        #enter-btn {
            animation: pulse 2.5s infinite;
        }
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2), 0 0 0 0 rgba(20, 184, 166, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2), 0 0 0 25px rgba(20, 184, 166, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2), 0 0 0 0 rgba(20, 184, 166, 0);
            }
        }
        .debossed-card {
            background-color: rgba(220, 220, 220, 0.2);
            border-radius: 1rem;
            padding: 1rem;
            box-shadow: inset 3px 3px 7px rgba(0,0,0,0.1), inset -3px -3px 7px rgba(255,255,255,0.7);
        }
        .timeline-btn {
            box-shadow: inset 3px 3px 7px rgba(0,0,0,0.15), inset -3px -3px 7px rgba(255,255,255,0.8);
            transition: all 0.3s ease;
        }
        .timeline-btn.active {
            box-shadow: -8px -8px 16px rgba(255, 255, 255, 0.8), 8px 8px 16px rgba(0, 0, 0, 0.15);
            background-color: #e9ecef;
        }
        .timeline-btn:hover {
             box-shadow: inset 3px 3px 7px rgba(0,0,0,0.15), inset -3px -3px 7px rgba(255,255,255,0.8), 0 0 15px rgba(255, 255, 255, 0.9);
        }
         .timeline-btn.active:hover {
            box-shadow: -8px -8px 16px rgba(255, 255, 255, 0.8), 8px 8px 16px rgba(0, 0, 0, 0.15), 0 0 15px rgba(52, 211, 153, 0.7);
            color: #28a745;
        }
        .timeline-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding: 0 1.5rem;
        }
        .timeline-content.open {
            max-height: 500px; /* Adjust as needed */
            padding: 1rem 0 0 0;
        }
        .footer {
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-top: 1px solid rgba(255, 255, 255, 0.4);
        }
    </style>
</head>
<body class="antialiased">

    <div class="background-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
    </div>
    
    <div id="splash-screen" class="fixed inset-0 z-50 flex items-center justify-center transition-opacity duration-700">
        <div class="splash-container">
            <div class="splash-card p-10 text-center rounded-[3rem] max-w-lg w-full mx-4">
                <div class="splash-shape splash-shape-1"></div>
                <div class="splash-shape splash-shape-2"></div>
                <div class="relative z-10 flex flex-col items-center">
                    <h1 class="text-3xl sm:text-4xl font-bold text-green-800">Estudo para CMEI em Barra do Bugres</h1>
                    <p class="text-md sm:text-lg text-gray-600 mt-2 mb-8">Atividade de Projeto Arquitet√¥nico V</p>
                    <div class="space-y-2 text-gray-700">
                        <p class="font-semibold">Jo√£o Miguel F. Silva</p>
                        <p class="font-semibold">Ot√°vio Henrique S. Mendes</p>
                    </div>
                    <button id="enter-btn" class="mt-10 bg-gradient-to-br from-green-400 to-teal-500 text-white font-bold text-2xl rounded-full w-48 h-48 sm:w-56 sm:h-56 flex items-center justify-center text-center transition-all duration-300 transform shadow-lg">
                        Come√ßar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="main-content" class="container-wrapper opacity-0 invisible transition-opacity duration-700">
        <div class="container mx-auto p-4 sm:p-6 lg:p-8">
            <header class="liquid-glass p-6 mb-8 rounded-3xl">
                <div class="flex justify-end items-center text-sm text-gray-600 mb-4">
                    <div class="text-right">
                        <p class="font-bold">Projeto de Arquitetura V</p>
                        <p>Per√≠odo Letivo: 2025/1</p>
                    </div>
                </div>
                <div class="text-center">
                    <h1 class="text-4xl font-bold text-green-800">Estudo para CMEI em Barra do Bugres</h1>
                    <p class="text-lg text-gray-600 mt-2">Plataforma de An√°lise para a Atividade de Projeto Arquitet√¥nico</p>
                </div>
            </header>

            <nav class="flex flex-wrap justify-center gap-4 sm:gap-6 mb-8">
                <button class="nav-button active text-lg font-semibold p-2 text-gray-700" data-target="overview">Vis√£o Geral</button>
                <button class="nav-button text-lg font-semibold p-2 text-gray-700" data-target="context">An√°lise de Contexto</button>
                <button class="nav-button text-lg font-semibold p-2 text-gray-700" data-target="framework">Estrutura Normativa</button>
                <button class="nav-button text-lg font-semibold p-2 text-gray-700" data-target="terrain">Terreno</button>
                <button class="nav-button text-lg font-semibold p-2 text-gray-700" data-target="directives">Diretrizes de Projeto</button>
            </nav>

            <main>
                <section id="overview" class="content-section active">
                     <div class="glass-card p-6 mb-8">
                        <h2 class="text-2xl font-bold text-center text-green-700 mb-4">Escopo da Atividade de Projeto</h2>
                        <p class="text-center text-gray-600 max-w-3xl mx-auto">
                            Esta plataforma sintetiza a fase de levantamento de dados para a atividade de Projeto Arquitet√¥nico V. O objetivo deste exerc√≠cio √© desenvolver uma proposta de anteprojeto para um CMEI em Barra do Bugres. Embora os par√¢metros do Proinf√¢ncia Tipo B sirvam como refer√™ncia inicial, <span class="font-bold">o foco principal deste trabalho √© a an√°lise cr√≠tica e o desenvolvimento aprofundado do programa de necessidades</span>, adequando-o ao contexto local e √†s mais recentes diretrizes pedag√≥gicas.
                        </p>
                        <div class="text-center mt-6">
                            <button id="goToPhasesBtn" class="bg-green-600 text-white font-bold py-2 px-6 rounded-full hover:bg-green-700 transition-colors shadow-md">
                                Explorar Etapas da Atividade ‚Üí
                            </button>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-2xl font-bold text-center text-green-700 mb-6">Par√¢metros de Projeto (Refer√™ncia Inicial)</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                            <div class="glass-card p-6">
                                <p class="text-3xl font-bold text-green-700">188</p>
                                <p class="text-gray-600 font-semibold mt-1">Crian√ßas Atendidas</p>
                            </div>
                            <div class="glass-card p-6">
                                <p class="text-3xl font-bold text-green-700">~1.320 m¬≤</p>
                                <p class="text-gray-600 font-semibold mt-1">√Årea Constru√≠da</p>
                            </div>
                            <div class="glass-card p-6">
                                <p class="text-3xl font-bold text-green-700">Tipo B</p>
                                <p class="text-gray-600 font-semibold mt-1">Modelo Proinf√¢ncia</p>
                            </div>
                            <div class="glass-card p-6">
                                <p class="text-3xl font-bold text-green-700">0 a 5</p>
                                <p class="text-gray-600 font-semibold mt-1">Faixa Et√°ria (Anos)</p>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card p-6 mb-8">
                        <h3 class="text-2xl font-bold text-center text-green-700 mb-6">Objetivos da Atividade Acad√™mica</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="text-center p-4">
                                <span class="text-5xl">üìú</span>
                                <h4 class="font-bold text-lg mt-3">Aplicar Normativas</h4>
                                <p class="text-gray-600 text-sm">Estudar e aplicar a legisla√ß√£o e as normas t√©cnicas pertinentes ao tema.</p>
                            </div>
                            <div class="text-center p-4">
                                <span class="text-5xl">‚òÄÔ∏è</span>
                                <h4 class="font-bold text-lg mt-3">Solu√ß√£o Bioclim√°tica</h4>
                                <p class="text-gray-600 text-sm">Desenvolver uma proposta arquitet√¥nica adequada √†s condi√ß√µes clim√°ticas locais.</p>
                            </div>
                            <div class="text-center p-4">
                                <span class="text-5xl">üß©</span>
                                <h4 class="font-bold text-lg mt-3">Funcionalidade Pedag√≥gica</h4>
                                <p class="text-gray-600 text-sm">Criar espa√ßos que atendam com excel√™ncia ao programa de necessidades infantil.</p>
                            </div>
                            <div class="text-center p-4">
                                <span class="text-5xl">‚úíÔ∏è</span>
                                <h4 class="font-bold text-lg mt-3">Representa√ß√£o Gr√°fica</h4>
                                <p class="text-gray-600 text-sm">Exercitar a representa√ß√£o t√©cnica e gr√°fica de um anteprojeto arquitet√¥nico.</p>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div class="glass-card p-6">
                            <h3 class="text-2xl font-bold text-green-700 mb-4">Usu√°rio do Projeto e Impacto Simulado</h3>
                            <p class="text-gray-600 mb-4">O projeto √© concebido para a primeira inf√¢ncia, fase crucial para o desenvolvimento. O impacto simulado na comunidade √© a cria√ß√£o de um referencial de arquitetura educacional de qualidade, que valoriza o espa√ßo urbano e o bem-estar social.</p>
                            <div class="mt-4 pt-4 border-t border-white/30">
                                 <h4 class="font-semibold text-gray-700">Usu√°rios Considerados no Projeto:</h4>
                                 <ul class="list-disc list-inside text-gray-600 space-y-1 mt-2">
                                     <li>Crian√ßas de 0 a 5 anos</li>
                                     <li>Professores e equipe pedag√≥gica</li>
                                     <li>Pais e respons√°veis</li>
                                 </ul>
                            </div>
                        </div>
                        <div class="glass-card p-6">
                             <h3 class="text-2xl font-bold text-center text-green-700 mb-4">Distribui√ß√£o por Faixa Et√°ria</h3>
                             <div class="chart-container" style="height: 280px;">
                                <canvas id="targetAudienceChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="context" class="content-section">
                    <div class="glass-card p-6 mb-8">
                        <h2 class="text-2xl font-bold text-green-700 mb-2">Contexto Bioclim√°tico</h2>
                        <p class="text-gray-600 mb-6">Barra do Bugres est√° na Zona Bioclim√°tica 7, com clima quente e √∫mido (Aw). A an√°lise detalhada dos dados mensais revela uma esta√ß√£o seca bem definida no meio do ano e uma esta√ß√£o chuvosa no ver√£o. Clique em uma m√©trica para ver a varia√ß√£o anual.</p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                            <div class="metric-card p-4" data-metric="temp" style="--glow-color: rgba(239, 68, 68, 0.5);">
                                <p class="text-4xl">üå°Ô∏è</p>
                                <p class="text-2xl font-bold text-red-500 mt-2">32¬∞C</p>
                                <p class="text-gray-600 font-semibold">M√©dia das M√°ximas</p>
                            </div>
                            <div class="metric-card p-4" data-metric="humidity" style="--glow-color: rgba(59, 130, 246, 0.5);">
                                <p class="text-4xl">üíß</p>
                                <p class="text-2xl font-bold text-blue-500 mt-2">~75%</p>
                                <p class="text-gray-600 font-semibold">M√©dia Anual de Umidade</p>
                            </div>
                            <div class="metric-card p-4" data-metric="precip" style="--glow-color: rgba(99, 102, 241, 0.5);">
                                <p class="text-4xl">üåßÔ∏è</p>
                                <p class="text-2xl font-bold text-indigo-500 mt-2">1534mm</p>
                                <p class="text-gray-600 font-semibold">Precipita√ß√£o Total Anual</p>
                            </div>
                        </div>
                    </div>
                    <div class="glass-card p-6">
                        <h2 class="text-2xl font-bold text-green-700 mb-4">Contexto Urbano e Legal</h2>
                        <p class="text-gray-600 mb-6">A implanta√ß√£o do CMEI deve seguir o <span class="font-semibold">Plano Diretor de Barra do Bugres (LC N¬∫ 012/2006)</span>, que rege o uso e ocupa√ß√£o do solo, garantindo que o projeto se harmonize com o desenvolvimento urbano planejado.</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="bg-green-50/50 p-4 rounded-lg border border-green-200/50">
                                <h3 class="font-bold text-green-800">üó∫Ô∏è Zoneamento e Uso</h3>
                                <p class="text-sm text-green-700">Verificar a conformidade com a zona urbana designada e os usos permitidos.</p>
                            </div>
                            <div class="bg-green-50/50 p-4 rounded-lg border border-green-200/50">
                                <h3 class="font-bold text-green-800">üìè Recuos e Ocupa√ß√£o</h3>
                                <p class="text-sm text-green-700">Respeitar os afastamentos e a taxa de ocupa√ß√£o m√°xima do lote.</p>
                            </div>
                            <div class="bg-green-50/50 p-4 rounded-lg border border-green-200/50">
                                <h3 class="font-bold text-green-800">üèóÔ∏è Infraestrutura</h3>
                                <p class="text-sm text-green-700">Garantir acesso a redes de √°gua, esgoto, energia e vias pavimentadas.</p>
                            </div>
                            <div class="bg-green-50/50 p-4 rounded-lg border border-green-200/50">
                                <h3 class="font-bold text-green-800">üöó Sistema Vi√°rio</h3>
                                <p class="text-sm text-green-700">Analisar a integra√ß√£o com as vias locais, prevendo acessos seguros para pedestres e ve√≠culos.</p>
                            </div>
                        </div>
                         <p class="text-xs italic text-center text-gray-500 mt-6 p-2 bg-amber-50/80 rounded-md border border-amber-200/50"><span class="font-bold">Nota para a professora:</span> Apesar da consulta ao Plano Diretor (LC N¬∫ 012/2006), n√£o foram localizados os anexos ou leis complementares (como C√≥digo de Obras ou Lei de Uso e Ocupa√ß√£o do Solo) que especificam os √≠ndices urban√≠sticos quantitativos (recuos, taxa de ocupa√ß√£o, etc.). Para o desenvolvimento da atividade, ser√£o adotados par√¢metros de refer√™ncia com base em legisla√ß√µes de munic√≠pios de porte similar.</p>
                    </div>
                </section>

                <section id="framework" class="content-section">
                    <div class="glass-card p-6 mb-8">
                        <h2 class="text-2xl font-bold text-green-700 mb-4">Hierarquia Normativa</h2>
                        <p class="text-gray-600 mb-6">
                            O projeto √© regido por um conjunto de normas em diferentes esferas. Este gr√°fico ilustra a influ√™ncia relativa de cada conjunto de diretrizes no desenvolvimento do projeto.
                        </p>
                        <div class="chart-container" style="height: 400px;">
                            <canvas id="frameworkChart"></canvas>
                        </div>
                    </div>
                    <div class="glass-card p-6">
                        <h2 class="text-2xl font-bold text-green-700 mb-4">Programa de Necessidades Detalhado (Base FNDE)</h2>
                        <p class="text-gray-600 mb-6">
                           A distribui√ß√£o de √°reas segue o programa funcional do Proinf√¢ncia. O gr√°fico de rosca mostra a propor√ß√£o de cada ambiente na √°rea total de refer√™ncia (~1.320 m¬≤).
                        </p>
                        <div class="md:flex items-center">
                            <div class="chart-container flex-shrink-0" style="height: 400px; max-width: 400px;">
                                <canvas id="programChart"></canvas>
                            </div>
                            <div id="program-legend" class="flex-grow mt-6 md:mt-0 md:ml-6 text-xs space-y-1"></div>
                        </div>
                        <p class="text-xs italic text-center text-gray-500 mt-8"><span class="font-bold">Nota para a professora:</span> O programa do FNDE √© utilizado como base referencial. A atividade de projeto se concentrar√° na an√°lise e detalhamento deste programa para desenvolver uma solu√ß√£o arquitet√¥nica que responda criticamente √†s suas diretrizes.</p>
                    </div>
                </section>
                
                <section id="phases" class="content-section">
                    <div class="glass-card p-6">
                        <h2 class="text-2xl font-bold text-center text-green-700 mb-8">Etapas da Atividade de Projeto Arquitet√¥nico</h2>
                        <div class="space-y-4 max-w-3xl mx-auto">
                            <div>
                                <button class="timeline-btn w-full text-left p-4 rounded-lg flex justify-between items-center" data-target="phase-content-1">
                                    <span class="text-xl font-bold flex items-center"><span class="bg-green-700 text-white rounded-full h-8 w-8 flex items-center justify-center mr-4">1</span> An√°lise e Planejamento</span>
                                    <span class="text-2xl transform transition-transform duration-300 ">+</span>
                                </button>
                                <div id="phase-content-1" class="timeline-content">
                                    <div class="debossed-card mt-2">
                                        <p class="text-sm text-gray-600">Levantamento de dados, estudo da legisla√ß√£o, an√°lise clim√°tica e do programa de necessidades.</p>
                                    </div>
                                </div>
                            </div>
                             <div>
                                <button class="timeline-btn w-full text-left p-4 rounded-lg flex justify-between items-center" data-target="phase-content-2">
                                    <span class="text-xl font-bold flex items-center"><span class="bg-green-700 text-white rounded-full h-8 w-8 flex items-center justify-center mr-4">2</span> Apresenta√ß√£o e S√≠ntese dos Dados</span>
                                    <span class="text-2xl transform transition-transform duration-300 ">+</span>
                                </button>
                                <div id="phase-content-2" class="timeline-content">
                                    <div class="debossed-card mt-2">
                                        <p class="text-sm text-gray-600">Organiza√ß√£o e visualiza√ß√£o dos dados coletados para embasar as decis√µes. O resultado √© esta plataforma interativa.</p>
                                    </div>
                                </div>
                            </div>
                             <div>
                                <button class="timeline-btn w-full text-left p-4 rounded-lg flex justify-between items-center" data-target="phase-content-3">
                                    <span class="text-xl font-bold flex items-center"><span class="bg-green-700 text-white rounded-full h-8 w-8 flex items-center justify-center mr-4">3</span> An√°lises Correlatas e Partido</span>
                                    <span class="text-2xl transform transition-transform duration-300 ">+</span>
                                </button>
                                <div id="phase-content-3" class="timeline-content">
                                    <div class="debossed-card mt-2">
                                        <p class="text-sm text-gray-600">Cruzamento das informa√ß√µes para gerar o conceito, as estrat√©gias de projeto e a solu√ß√£o formal inicial.</p>
                                    </div>
                                </div>
                            </div>
                             <div>
                                <button class="timeline-btn w-full text-left p-4 rounded-lg flex justify-between items-center" data-target="phase-content-4">
                                    <span class="text-xl font-bold flex items-center"><span class="bg-green-700 text-white rounded-full h-8 w-8 flex items-center justify-center mr-4">4</span> Desenvolvimento do Anteprojeto</span>
                                    <span class="text-2xl transform transition-transform duration-300 ">+</span>
                                </button>
                                <div id="phase-content-4" class="timeline-content">
                                    <div class="debossed-card mt-2">
                                        <p class="text-sm text-gray-600">Materializa√ß√£o do partido arquitet√¥nico em desenhos t√©cnicos, representando a solu√ß√£o projetual preliminar.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                 <section id="terrain" class="content-section">
                    <div class="glass-card p-6">
                        <h2 class="text-2xl font-bold text-center text-green-700 mb-4">An√°lise do Terreno</h2>
                         <p class="text-center text-gray-600 max-w-3xl mx-auto mb-8">O terreno selecionado para a implanta√ß√£o do CMEI est√° localizado em Barra do Bugres, no bairro S√£o Raimundo, na quadra entre as ruas Jauquara, Maranh√£o, Fabrini, e Aracaju.</p>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                            <div>
                                <h3 class="font-bold text-lg text-center mb-2">Vista do Terreno</h3>
                                <img src="imagens/terreno.png" alt="Vista geral do terreno" class="rounded-lg shadow-lg w-full h-auto">
                            </div>
                             <div>
                                <h3 class="font-bold text-lg text-center mb-2">Entorno Urbano</h3>
                                <img src="imagens/entorno do terreno.jpeg" alt="Vista do entorno urbano do terreno" class="rounded-lg shadow-lg w-full h-auto">
                            </div>
                        </div>
                        <div>
                             <h3 class="font-bold text-xl text-green-800 mb-4">Potencialidades e Desafios</h3>
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
                                <div class="bg-green-50/50 p-4 rounded-lg">
                                    <h4 class="font-bold text-green-700">Potencialidades:</h4>
                                    <ul class="list-disc list-inside mt-2 space-y-1">
                                        <li>Topografia predominantemente plana, facilitando a implanta√ß√£o.</li>
                                        <li>Boa dimens√£o, permitindo a correta disposi√ß√£o do programa.</li>
                                        <li>Vegeta√ß√£o de m√©dio porte existente que pode ser aproveitada no projeto paisag√≠stico.</li>
                                        <li>Localizado em √°rea urbana consolidada com infraestrutura.</li>
                                    </ul>
                                </div>
                                <div class="bg-amber-50/50 p-4 rounded-lg">
                                    <h4 class="font-bold text-amber-700">Desafios:</h4>
                                    <ul class="list-disc list-inside mt-2 space-y-1">
                                        <li>An√°lise da orienta√ß√£o solar para garantir conforto t√©rmico.</li>
                                        <li>Garantir a seguran√ßa no acesso de pedestres e ve√≠culos.</li>
                                        <li>Integra√ß√£o harmoniosa com a escala residencial do entorno.</li>
                                    </ul>
                                </div>
                             </div>
                        </div>
                    </div>
                </section>

                <section id="directives" class="content-section">
                    <div class="glass-card p-6">
                        <h2 class="text-2xl font-bold text-green-700 mb-2">Diretrizes Consolidadas de Projeto</h2>
                        <p class="text-gray-600 mb-6">
                            Explore as principais recomenda√ß√µes para o desenvolvimento do projeto, sintetizadas a partir da an√°lise de contexto e da estrutura normativa. Use os filtros para navegar pelas diferentes categorias de diretrizes.
                        </p>
                        <div class="flex flex-wrap justify-center gap-3 mb-8" id="filter-container">
                            <button class="filter-btn active" data-filter="all">Todas</button>
                            <button class="filter-btn" data-filter="bioclimatic">Bioclim√°ticas</button>
                            <button class="filter-btn" data-filter="accessibility">Acessibilidade</button>
                            <button class="filter-btn" data-filter="safety">Seguran√ßa</button>
                            <button class="filter-btn" data-filter="pedagogical">Pedag√≥gicas</button>
                        </div>

                        <div id="directives-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="directive-card p-4 border rounded-lg" data-category="bioclimatic">
                                <h3 class="font-bold text-lg">üå¨Ô∏è Ventila√ß√£o Cruzada</h3>
                                <p class="text-gray-600">Maximizar a ventila√ß√£o natural em todos os ambientes, especialmente nas salas de aula e p√°tio coberto.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="accessibility">
                                <h3 class="font-bold text-lg">‚ôø Rota Acess√≠vel</h3>
                                <p class="text-gray-600">Garantir uma rota cont√≠nua e acess√≠vel da entrada a todas as √°reas de uso comum e pedag√≥gico, conforme NBR 9050.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="safety">
                                <h3 class="font-bold text-lg">üî• Sa√≠das de Emerg√™ncia</h3>
                                <p class="text-gray-600">Dimensionar e sinalizar corretamente as rotas de fuga e sa√≠das de emerg√™ncia, conforme NBR 9077.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="bioclimatic">
                                <h3 class="font-bold text-lg">‚òÄÔ∏è Prote√ß√£o Solar</h3>
                                <p class="text-gray-600">Utilizar beirais generosos, brises e vegeta√ß√£o para proteger as fachadas e aberturas da insola√ß√£o direta.</p>
                            </div>
                             <div class="directive-card p-4 border rounded-lg" data-category="pedagogical">
                                <h3 class="font-bold text-lg">üé® Espa√ßos Flex√≠veis</h3>
                                <p class="text-gray-600">Projetar salas de atividades que permitam diferentes arranjos de layout para m√∫ltiplas atividades pedag√≥gicas.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="accessibility">
                                <h3 class="font-bold text-lg">üöΩ Sanit√°rios Adaptados</h3>
                                <p class="text-gray-600">Prever sanit√°rios acess√≠veis para crian√ßas e adultos em todos os blocos funcionais.</p>
                            </div>
                             <div class="directive-card p-4 border rounded-lg" data-category="safety">
                                <h3 class="font-bold text-lg">üõ°Ô∏è Materiais Seguros</h3>
                                <p class="text-gray-600">Especificar materiais de acabamento at√≥xicos, de f√°cil limpeza e que n√£o propaguem chamas.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="pedagogical">
                                <h3 class="font-bold text-lg">üå≥ Integra√ß√£o Interior-Exterior</h3>
                                <p class="text-gray-600">Promover a conex√£o visual e f√≠sica entre as salas de aula e os espa√ßos externos (sol√°rios e parquinhos).</p>
                            </div>
                             <div class="directive-card p-4 border rounded-lg" data-category="bioclimatic">
                                <h3 class="font-bold text-lg">üíß Cobertura e Drenagem</h3>
                                <p class="text-gray-600">Projetar coberturas com bom isolamento t√©rmico e um sistema de drenagem pluvial eficiente para chuvas intensas.</p>
                            </div>
                             <div class="directive-card p-4 border rounded-lg" data-category="pedagogical">
                                <h3 class="font-bold text-lg">ü§∏ Psicomotricidade</h3>
                                <p class="text-gray-600">Criar √°reas com desafios motores (subir, descer, equilibrar) para desenvolver a coordena√ß√£o e consci√™ncia corporal.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="pedagogical">
                                <h3 class="font-bold text-lg">üé® Explora√ß√£o Sensorial</h3>
                                <p class="text-gray-600">Incluir pain√©is com diferentes texturas, jardins de cheiros e caixas de areia para estimular os m√∫ltiplos sentidos.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="pedagogical">
                                <h3 class="font-bold text-lg">üå± Horta Pedag√≥gica</h3>
                                <p class="text-gray-600">Destinar um espa√ßo para uma pequena horta, ensinando sobre natureza, alimenta√ß√£o e responsabilidade.</p>
                            </div>
                            <div class="directive-card p-4 border rounded-lg" data-category="pedagogical">
                                <h3 class="font-bold text-lg">üíß Brincadeiras com √Ågua</h3>
                                <p class="text-gray-600">Projetar uma √°rea externa segura com pontos de √°gua para atividades l√∫dicas e sensoriais nos dias quentes.</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="references" class="content-section">
                    <div class="glass-card p-6">
                        <h2 class="text-2xl font-bold text-center text-green-700 mb-6">Refer√™ncias Bibliogr√°ficas e Normativas</h2>
                        <ul class="space-y-4 text-gray-700 max-w-3xl mx-auto text-sm">
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">ASSOCIA√á√ÉO BRASILEIRA DE NORMAS T√âCNICAS.</span> NBR 15220: Desempenho t√©rmico de edifica√ß√µes. Rio de Janeiro, 2005.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">ASSOCIA√á√ÉO BRASILEIRA DE NORMAS T√âCNICAS.</span> NBR 9050: Acessibilidade a edifica√ß√µes, mobili√°rio, espa√ßos e equipamentos urbanos. Rio de Janeiro, 2020.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">ASSOCIA√á√ÉO BRASILEIRA DE NORMAS T√âCNICAS.</span> NBR 9077: Sa√≠das de emerg√™ncia em edif√≠cios. Rio de Janeiro, 2001.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BARRA DO BUGRES. Prefeitura Municipal.</span> Lei Complementar N¬∫ 012/2006. Institui o Plano Diretor de Barra do Bugres e d√° outras provid√™ncias. Barra do Bugres, MT, 2006.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BRASIL. Minist√©rio da Educa√ß√£o. Fundo Nacional de Desenvolvimento da Educa√ß√£o (FNDE).</span> Caderno de Projetos ‚Äì Proinf√¢ncia. Bras√≠lia: FNDE, 2012.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BRASIL. Minist√©rio da Educa√ß√£o. Fundo Nacional de Desenvolvimento da Educa√ß√£o (FNDE).</span> A√ß√µes e Programas: Proinf√¢ncia. Dispon√≠vel em: <a href="https://www.gov.br/fnde/pt-br/acesso-a-informacao/acoes-e-programas/programas/proinfancia" target="_blank" class="text-green-700 hover:underline break-all">https://www.gov.br/fnde/pt-br/acesso-a-informacao/acoes-e-programas/programas/proinfancia</a>. Acesso em: 30 ago. 2025.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BRASIL. Minist√©rio da Educa√ß√£o. Fundo Nacional de Desenvolvimento da Educa√ß√£o (FNDE).</span> Projeto de Transposi√ß√£o - Tipo B. Metodologias Inovadoras. Dispon√≠vel em: <a href="https://www.gov.br/fnde/pt-br/acesso-a-informacao/acoes-e-programas/programas/proinfancia/metodologias-inovadoras-mi/projeto-de-transposicao-tipo-b" target="_blank" class="text-green-700 hover:underline break-all">https://www.gov.br/fnde/pt-br/acesso-a-informacao/acoes-e-programas/programas/proinfancia/metodologias-inovadoras-mi/projeto-de-transposicao-tipo-b</a>. Acesso em: 30 ago. 2025.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BRASIL. Minist√©rio da Educa√ß√£o. Fundo Nacional de Desenvolvimento da Educa√ß√£o (FNDE).</span> Orienta√ß√µes para preenchimento no SIMEC da solicita√ß√£o de constru√ß√£o de creches dos Tipos B e C. Dispon√≠vel em: <a href="https://www.fnde.gov.br/phocadownload/programas/pro_infancia/Manuais/orientacoes_preenchimento_simec_solicitacao_creches_tipos_bc_mi.pdf" target="_blank" class="text-green-700 hover:underline break-all">https://www.fnde.gov.br/phocadownload/programas/pro_infancia/Manuais/orientacoes_preenchimento_simec_solicitacao_creches_tipos_bc_mi.pdf</a>. Acesso em: 30 ago. 2025.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BRASIL. Minist√©rio da Educa√ß√£o. Conselho Nacional de Educa√ß√£o.</span> Resolu√ß√£o CNE/CEB n¬∫ 5, de 17 de dezembro de 2009. Fixa as Diretrizes Curriculares Nacionais para a Educa√ß√£o Infantil. Di√°rio Oficial da Uni√£o, Bras√≠lia, 18 de dezembro de 2009.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">BRASIL. Minist√©rio da Educa√ß√£o. Conselho Nacional de Educa√ß√£o.</span> Resolu√ß√£o CNE/CEB N¬∫ 1, de 17 de outubro de 2024. Institui as Diretrizes Curriculares Nacionais para a Forma√ß√£o Inicial de Professores da Educa√ß√£o Infantil. Dispon√≠vel em: <a href="https://abmes.org.br/arquivos/legislacoes/Resolucao-cne-ceb-001-2024-10-17.pdf" target="_blank" class="text-green-700 hover:underline break-all">https://abmes.org.br/arquivos/legislacoes/Resolucao-cne-ceb-001-2024-10-17.pdf</a>. Acesso em: 30 ago. 2025.</li>
                            <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">CLIMATE-DATA.ORG.</span> Clima Barra do Bugres. Dados climatol√≥gicos para Barra do Bugres. Acesso em: 30 ago. 2025.</li>
                             <li class="p-4 bg-white/50 rounded-lg break-words"><span class="font-bold block">MIRANDA, Soneize Auxiliadora de.</span> Material da disciplina de Projeto de Arquitetura V (A1-PA5-ATIVIDADES-TEMAS_E_GRUPOS-2025-1). UNEMAT, Barra do Bugres, 2025.</li>
                        </ul>
                    </div>
                </section>
            </main>

        </div>

        <footer class="footer mt-auto py-4">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
                <div class="text-gray-600">
                    <p class="font-bold text-lg">UNEMAT - BBG</p>
                    <p class="text-xs italic">Campus Carlos Alberto Reys Maldonado</p>
                </div>
                <div class="text-right text-sm text-gray-500">
                    <div>
                        <p class="font-semibold">Jo√£o Miguel F. Silva</p>
                        <p class="font-semibold">Ot√°vio Henrique S. Mendes</p>
                    </div>
                    <button id="referencesBtn" class="mt-2 text-xs font-bold text-green-700 hover:underline">Refer√™ncias</button>
                </div>
            </div>
        </footer>
    </div>


    <div id="metricModal" class="modal-overlay">
        <div class="modal-content glass-card">
            <span id="modalCloseBtn" class="modal-close">&times;</span>
            <h2 id="modalTitle" class="text-2xl font-bold text-center text-green-700 mb-6"></h2>
            <div class="chart-container" style="height: 400px;">
                <canvas id="modalChartCanvas"></canvas>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const enterBtn = document.getElementById('enter-btn');
            const splashScreen = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');
            
            enterBtn.addEventListener('click', () => {
                splashScreen.style.opacity = '0';
                splashScreen.style.visibility = 'hidden';
                mainContent.style.opacity = '1';
                mainContent.style.visibility = 'visible';
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                }, 700);
            });

            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');
            const referencesBtn = document.getElementById('referencesBtn');

            function switchTab(targetId) {
                // Desativa todos os bot√µes da navega√ß√£o principal
                navButtons.forEach(btn => btn.classList.remove('active'));
                
                // Ativa o bot√£o correspondente se ele existir na navega√ß√£o principal
                const targetNavButton = document.querySelector(`.nav-button[data-target="${targetId}"]`);
                if(targetNavButton){
                    targetNavButton.classList.add('active');
                }

                contentSections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-target');
                    switchTab(targetId);
                });
            });
            
            const goToPhasesBtn = document.getElementById('goToPhasesBtn');
            if(goToPhasesBtn) {
                goToPhasesBtn.addEventListener('click', () => {
                    switchTab('phases');
                });
            }
            
            if(referencesBtn) {
                referencesBtn.addEventListener('click', () => {
                    switchTab('references');
                });
            }

            const filterContainer = document.getElementById('filter-container');
            if (filterContainer) {
                const filterButtons = filterContainer.querySelectorAll('.filter-btn');
                const directiveCards = document.querySelectorAll('.directive-card');
                
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        const filter = button.getAttribute('data-filter');
                        directiveCards.forEach(card => {
                            card.style.display = (filter === 'all' || card.getAttribute('data-category') === filter) ? 'block' : 'none';
                        });
                    });
                });
            }

            const FONT_COLOR = '#343A40';
            const GRID_COLOR = '#E9ECEF';

            const tooltipConfig = {
                callbacks: {
                    title: function(tooltipItems) {
                        const item = tooltipItems[0];
                        let label = item.chart.data.labels[item.dataIndex];
                        return Array.isArray(label) ? label.join(' ') : label;
                    }
                }
            };
            
            const processLabels = (labels, maxLength = 16) => {
                return labels.map(label => {
                    if(typeof label !== 'string' || label.length <= maxLength) return label;
                    const words = label.split(' ');
                    const lines = [];
                    let currentLine = '';
                    words.forEach(word => {
                        if ((currentLine + ' ' + word).trim().length > maxLength) {
                            lines.push(currentLine.trim());
                            currentLine = word;
                        } else {
                            currentLine = (currentLine + ' ' + word).trim();
                        }
                    });
                    if (currentLine) lines.push(currentLine.trim());
                    return lines;
                });
            };

            if (document.getElementById('frameworkChart')) {
                new Chart(document.getElementById('frameworkChart'), {
                    type: 'bar',
                    data: {
                         labels: processLabels(['Normas ABNT', 'Diretrizes FNDE/MEC', 'Plano Diretor', 'Legisla√ß√£o Inc√™ndio']),
                        datasets: [{ 
                            label: 'N√≠vel de Influ√™ncia',
                            data: [35, 30, 25, 10], 
                            backgroundColor: ['#2d6a4f', '#40916c', '#52b788', '#74c69d'],
                            borderRadius: 4
                        }]
                    },
                    options: { 
                        indexAxis: 'y',
                        responsive: true, 
                        maintainAspectRatio: false, 
                        plugins: { legend: { display: false }, tooltip: tooltipConfig },
                        scales: { x: { grid: { color: GRID_COLOR } } } 
                    }
                });
            }
            
            const programChartCanvas = document.getElementById('programChart');
            if (programChartCanvas) {
                const programData = {
                    labels: ['P√°tio/Refeit√≥rio', 'Salas Creche I', 'Salas Creche II', 'Salas Pr√©-Escola', 'Sala Multiuso', 'Sol√°rios', 'Parquinho', 'Cozinha', 'Lavanderia', 'Outros (Adm/Apoio)'],
                    datasets: [{ 
                        label: '√Årea (m¬≤)', 
                        data: [228.7, 114.88, 102.32, 110.16, 49.50, 150, 200, 29.81, 19.34, 115.29],
                        backgroundColor: ['#2d6a4f', '#40916c', '#52b788', '#74c69d', '#95d5b2', '#ade8f4', '#80ced7', '#48cae4', '#00b4d8', '#0096c7'].map(color => color + 'b3'),
                        borderColor: 'rgba(255, 255, 255, 0.8)',
                        borderWidth: 3,
                        hoverOffset: 15
                    }]
                };

                const programChart = new Chart(programChartCanvas, {
                    type: 'doughnut',
                    data: programData,
                    options: { 
                        responsive: true, 
                        maintainAspectRatio: false,
                        cutout: '60%',
                        plugins: { 
                            legend: { 
                                display: false 
                            }, 
                            tooltip: tooltipConfig 
                        } 
                    }
                });
                
                const legendContainer = document.getElementById('program-legend');
                programData.labels.forEach((label, i) => {
                    const color = programData.datasets[0].backgroundColor[i];
                    const legendItem = document.createElement('div');
                    legendItem.classList.add('flex', 'items-center', 'cursor-pointer', 'p-1', 'rounded', 'transition-colors');
                    legendItem.innerHTML = `<div class="w-3 h-3 rounded-sm mr-2" style="background-color: ${color}"></div><span>${label}</span>`;
                    
                    legendItem.onmouseenter = () => {
                        programChart.setActiveElements([{ datasetIndex: 0, index: i }]);
                        programChart.update();
                        legendItem.style.backgroundColor = 'rgba(200, 200, 200, 0.3)';
                    };
                    legendItem.onmouseleave = () => {
                         programChart.setActiveElements([]);
                         programChart.update();
                         legendItem.style.backgroundColor = 'transparent';
                    };
                    
                    legendContainer.appendChild(legendItem);
                });
            }


            if (document.getElementById('targetAudienceChart')) {
                new Chart(document.getElementById('targetAudienceChart'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Ber√ß√°rio (0-1 ano)', 'Maternal I (2-3 anos)', 'Maternal II (4-5 anos)'],
                        datasets: [{ label: 'Distribui√ß√£o de Vagas', data: [30, 88, 70], backgroundColor: ['#28A745', '#20c997', '#6f42c1'], borderColor: '#ffffff', borderWidth: 2, hoverOffset: 8 }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { boxWidth: 15, padding: 15 } }, tooltip: tooltipConfig } }
                });
            }

            const metricModal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            const metricCards = document.querySelectorAll('.metric-card');
            let modalChart = null;

            const climateData = {
                months: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
                maxTemp: [31.6, 31.6, 31.8, 31.7, 30.4, 29.9, 30.2, 32.4, 34.2, 34.2, 33.2, 32.0],
                minTemp: [22.5, 22.4, 22.3, 21.4, 19.1, 17.3, 16.8, 18.2, 20.6, 22.1, 22.4, 22.6],
                humidity: [83, 84, 84, 82, 78, 75, 69, 61, 61, 69, 75, 80],
                precip: [277, 238, 225, 114, 42, 14, 10, 19, 54, 129, 178, 234]
            };

            function showModalWithChart(metric) {
                if (modalChart) {
                    modalChart.destroy();
                }

                let chartConfig;
                switch(metric) {
                    case 'temp':
                        chartConfig = {
                            type: 'line',
                            data: {
                                labels: climateData.months,
                                datasets: [
                                    { label: 'Temperatura M√°xima (¬∞C)', data: climateData.maxTemp, borderColor: '#FF6B6B', backgroundColor: 'rgba(255, 107, 107, 0.2)', fill: true, tension: 0.4 },
                                    { label: 'Temperatura M√≠nima (¬∞C)', data: climateData.minTemp, borderColor: '#45B7D1', backgroundColor: 'rgba(69, 183, 209, 0.2)', fill: true, tension: 0.4 }
                                ]
                            },
                            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: true, position: 'bottom' } }, scales: { y: { beginAtZero: false, title: { display: true, text: 'Temperatura (¬∞C)' } } } }
                        };
                        modalTitle.textContent = 'Varia√ß√£o Anual da Temperatura';
                        break;
                    case 'humidity':
                        chartConfig = {
                            type: 'line',
                            data: {
                                labels: climateData.months,
                                datasets: [{ label: 'Umidade Relativa M√©dia (%)', data: climateData.humidity, borderColor: '#45B7D1', backgroundColor: 'rgba(69, 183, 209, 0.2)', fill: true, tension: 0.4 }]
                            },
                            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { min: 0, max: 100, title: { display: true, text: 'Umidade (%)' } } } }
                        };
                        modalTitle.textContent = 'Varia√ß√£o Anual da Umidade Relativa';
                        break;
                    case 'precip':
                        chartConfig = {
                            type: 'bar',
                            data: {
                                labels: climateData.months,
                                datasets: [{ label: 'Precipita√ß√£o M√©dia (mm)', data: climateData.precip, backgroundColor: '#56CCF2', borderRadius: 4 }]
                            },
                            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, title: { display: true, text: 'Precipita√ß√£o (mm)'} } } }
                        };
                        modalTitle.textContent = 'Varia√ß√£o Anual da Precipita√ß√£o';
                        break;
                }

                modalChart = new Chart(document.getElementById('modalChartCanvas'), chartConfig);
                metricModal.classList.add('active');
            }

            metricCards.forEach(card => {
                card.addEventListener('click', () => {
                    const metric = card.getAttribute('data-metric');
                    showModalWithChart(metric);
                });
            });

            const closeModal = () => {
                metricModal.classList.remove('active');
                if (modalChart) {
                    modalChart.destroy();
                    modalChart = null;
                }
            };

            modalCloseBtn.addEventListener('click', closeModal);
            metricModal.addEventListener('click', (e) => {
                if (e.target === metricModal) {
                    closeModal();
                }
            });
            
             const timelineBtns = document.querySelectorAll('.timeline-btn');
            timelineBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const content = document.getElementById(btn.dataset.target);
                    const icon = btn.querySelector('span:last-child');
                    
                    if (content.classList.contains('open')) {
                        content.classList.remove('open');
                        btn.classList.remove('active');
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        // Close other sections
                        document.querySelectorAll('.timeline-content.open').forEach(openContent => {
                            openContent.classList.remove('open');
                            const openBtn = document.querySelector(`[data-target="${openContent.id}"]`);
                            openBtn.classList.remove('active');
                            openBtn.querySelector('span:last-child').style.transform = 'rotate(0deg)';
                        });
                        
                        content.classList.add('open');
                        btn.classList.add('active');
                        icon.style.transform = 'rotate(45deg)';
                    }
                });
            });
        });
    </script>
</body>
</html>

